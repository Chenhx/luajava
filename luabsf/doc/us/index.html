<html>
  <head>
    <title>LuaBSF - A LuaJava extension</title>
  </head>
  <body bgcolor="#FFFFFF">
    <hr>
    <center>
    <table border=0 cellspacing=0 cellpadding=0>
    <tr><td align="center">

    <a href="http://www.keplerproject.org/luajava">
    <img border=0 alt="LuaJava" src="luajava_128.png">
    </a>
    <tr><td align="center" valign="top">LuaBSF: A LuaJava extension</td></tr>
    </table>
      <h2>Scripting with Lua using Apache's Bean Scripting Framework</h2>
    </center>
    <hr>

    
    <h2>What is LuaBSF?</h2>
    <p>LuaBSF is an extension of <a href="http://jakarta.apache.org/bsf/">BSF</a> that
    implements an engine that allows BSF to call Lua. In order to do that, 
    LuaBSF uses <a href="http://www.keplerproject.org/luajava">LuaJava</a>
    to implement the comunication between Lua and Java.</p>
    <p><a href="http://jakarta.apache.org/bsf/">Bean Scripting Framework (BSF)</a>
    is a set of Java classes which provides scripting language support within
    Java applications, and access to Java objects and methods from scripting
    languages. BSF allows one to write JSPs in languages other than Java
    while providing access to the Java class library. In addition, BSF
    permits any Java application to be implemented in part (or dynamically
    extended) by a language that is embedded within it. This is achieved
    by providing an API that permits calling scripting language engines
    from within Java, as well as an object registry that exposes Java
    objects to these scripting language engines.</p>

    
    <h2>How can I use BSF with Lua?</h2>
    <p>There are two ways to use LuaBSF.</p>
    <ul>
      <li>Change the configuration file <i>Languages.properties</i>, 
      inside bsf.jar to include this line:<br/>
        lua = org.keplerproject.luajava.luabsf.LuaEngine, lua
      <li>Call the <code>BSFManager.registerScriptingEngine()</code> method:<br/>

      <code>registerScriptingEngine("lua", "org.keplerproject.luajava.luabsf.LuaEngine", new String[]{"lua"})</code>
    </ul>
    
    <h2>Download:</h2>
    <p>LuaBSF can be downloaded from <a href =" http://luaforge.net/project/showfiles.php?group_id=10">here</a>.</p>
    
    <h2>Example:</h2>
    <p>BSF offers a taglib to be used to develop Java Server Pages(jsp) 
    using a script language. Here is an example of a jsp page using Lua:</p>

    
    <p>example.jsp</p>
    
    <ul>
    <code>
      <pre>
&lt;%@ taglib uri="/WEB-INF/bsf.tld" prefix="bsf" %&gt;
&lt;html&gt;
  &lt;body&gt;
  &lt;bsf:scriptlet language="lua"&gt;

      for i=1,5 do
          out:println("This is a scriptlet test in Lua.."..i.."&lt;br&gt;")
      end
  &lt;/bsf:scriptlet&gt;
  &lt;bsf:expression language="lua"&gt;
    "Now it's an expression" 
  &lt;/bsf:expression&gt;
  &lt;/body&gt;
&lt;/html&gt;   
      </pre>

    </code>
    </ul>
    
    <p>The output for this page should be:</p>
    <pre>
      This is a scriptlet test in Lua..1
      This is a scriptlet test in Lua..2
      This is a scriptlet test in Lua..3
      This is a scriptlet test in Lua..4
      This is a scriptlet test in Lua..5
      Now it's an expression
    </pre>
  </body>
</html>